affine deriche_scop_0 {W,H|W>=0 && H>=0}
	input
		double a {j0|H-1>=0 && W-1>=0 && -j0+3>=0 && j0-1>=0} || {j0|H-1>=0 && W-1>=0 && -j0+8>=0 && j0-5>=0};
		double b {j0|H-1>=0 && W-1>=0 && -j0+2>=0 && j0-1>=0};
		double in {j0,j1|j1>=0 && -j1+H-1>=0 && j0>=0 && -j0+W-1>=0};
	local
		double S0 {i|i>=0 && -i+W-1>=0 && W>=0 && H>=0};
		double S1 {i|i>=0 && -i+W-1>=0 && W>=0 && H>=0};
		double S2 {i|i>=0 && -i+W-1>=0 && W>=0 && H>=0};
		double S3 {i,j|j>=0 && -j+H-1>=0 && i>=0 && -i+W-1>=0 && W>=0 && H>=0};
		double S4 {i,j|j>=0 && -j+H-1>=0 && i>=0 && -i+W-1>=0 && W>=0 && H>=0};
		double S5 {i,j|j>=0 && -j+H-1>=0 && i>=0 && -i+W-1>=0 && W>=0 && H>=0};
		double S6 {i,j|j>=0 && -j+H-1>=0 && i>=0 && -i+W-1>=0 && W>=0 && H>=0};
		double S7 {i|i>=0 && -i+W-1>=0 && W>=0 && H>=0};
		double S8 {i|i>=0 && -i+W-1>=0 && W>=0 && H>=0};
		double S9 {i|i>=0 && -i+W-1>=0 && W>=0 && H>=0};
		double S10 {i|i>=0 && -i+W-1>=0 && W>=0 && H>=0};
		double S11 {i,j|j>=0 && -j+H-1>=0 && i>=0 && -i+W-1>=0 && W>=0 && H>=0};
		double S12 {i,j|j>=0 && -j+H-1>=0 && i>=0 && -i+W-1>=0 && W>=0 && H>=0};
		double S13 {i,j|j>=0 && -j+H-1>=0 && i>=0 && -i+W-1>=0 && W>=0 && H>=0};
		double S14 {i,j|j>=0 && -j+H-1>=0 && i>=0 && -i+W-1>=0 && W>=0 && H>=0};
		double S15 {i,j|j>=0 && -j+H-1>=0 && i>=0 && -i+W-1>=0 && W>=0 && H>=0};
		double S16 {i,j|j>=0 && -j+H-1>=0 && i>=0 && -i+W-1>=0 && W>=0 && H>=0};
		double S17 {j|j>=0 && -j+H-1>=0 && W>=0 && H>=0};
		double S18 {j|j>=0 && -j+H-1>=0 && W>=0 && H>=0};
		double S19 {j|j>=0 && -j+H-1>=0 && W>=0 && H>=0};
		double S20 {j,i|i>=0 && -i+W-1>=0 && j>=0 && -j+H-1>=0 && W>=0 && H>=0};
		double S21 {j,i|i>=0 && -i+W-1>=0 && j>=0 && -j+H-1>=0 && W>=0 && H>=0};
		double S22 {j,i|i>=0 && -i+W-1>=0 && j>=0 && -j+H-1>=0 && W>=0 && H>=0};
		double S23 {j,i|i>=0 && -i+W-1>=0 && j>=0 && -j+H-1>=0 && W>=0 && H>=0};
		double S24 {j|j>=0 && -j+H-1>=0 && W>=0 && H>=0};
		double S25 {j|j>=0 && -j+H-1>=0 && W>=0 && H>=0};
		double S26 {j|j>=0 && -j+H-1>=0 && W>=0 && H>=0};
		double S27 {j|j>=0 && -j+H-1>=0 && W>=0 && H>=0};
		double S28 {j,i|i>=0 && -i+W-1>=0 && j>=0 && -j+H-1>=0 && W>=0 && H>=0};
		double S29 {j,i|i>=0 && -i+W-1>=0 && j>=0 && -j+H-1>=0 && W>=0 && H>=0};
		double S30 {j,i|i>=0 && -i+W-1>=0 && j>=0 && -j+H-1>=0 && W>=0 && H>=0};
		double S31 {j,i|i>=0 && -i+W-1>=0 && j>=0 && -j+H-1>=0 && W>=0 && H>=0};
		double S32 {j,i|i>=0 && -i+W-1>=0 && j>=0 && -j+H-1>=0 && W>=0 && H>=0};
		double S33 {i,j|j>=0 && -j+H-1>=0 && i>=0 && -i+W-1>=0 && W>=0 && H>=0};
	let
		S0[i] = 0;
		S1[i] = S0[i];
		S2[i] = S1[i];
		S3[i, j] = ((((a[1] *in[i, j]) +(a[2] *case {i,j|j==0 && i>=0 && H-1>=0 && W-i-1>=0} : S0[i]; {i,j|W-i-1>=0 && i>=0 && j-1>=0 && H-j-1>=0} : S4[i, j-1]; esac)) +(b[1] *case {i,j|j==0 && i>=0 && W-i-1>=0 && H-1>=0} : S2[i]; {i,j|H-j-1>=0 && i>=0 && W-i-1>=0 && j-1>=0} : S6[i, j-1]; esac)) +(b[2] *case {i,j|j==0 && i>=0 && W-i-1>=0 && H-1>=0} : S1[i]; {i,j|H-j-1>=0 && i>=0 && W-i-1>=0 && j-1>=0} : S5[i, j-1]; esac));
		S4[i, j] = in[i, j];
		S5[i, j] = case {i,j|j==0 && i>=0 && H-1>=0 && W-i-1>=0} : S2[i]; {i,j|W-i-1>=0 && i>=0 && j-1>=0 && H-j-1>=0} : S6[i, j-1]; esac;
		S6[i, j] = S3[i, j];
		S7[i] = 0;
		S8[i] = S7[i];
		S9[i] = S8[i];
		S10[i] = S9[i];
		S11[i, j] = ((((a[3] *case {i,j|-H+j+1==0 && i>=0 && H-1>=0 && W-i-1>=0} : S8[i]; {i,j|W-i-1>=0 && i>=0 && j>=0 && H-j-2>=0} : S13[i, j+1]; esac) +(a[1] *case {i,j|-H+j+1==0 && i>=0 && W-i-1>=0 && H-1>=0} : S7[i]; {i,j|H-j-2>=0 && i>=0 && W-i-1>=0 && j>=0} : S12[i, j+1]; esac)) +(b[1] *case {i,j|-H+j+1==0 && i>=0 && W-i-1>=0 && H-1>=0} : S10[i]; {i,j|H-j-2>=0 && i>=0 && W-i-1>=0 && j>=0} : S15[i, j+1]; esac)) +(b[2] *case {i,j|-H+j+1==0 && i>=0 && W-i-1>=0 && H-1>=0} : S9[i]; {i,j|H-j-2>=0 && i>=0 && W-i-1>=0 && j>=0} : S14[i, j+1]; esac));
		S12[i, j] = case {i,j|-H+j+1==0 && i>=0 && H-1>=0 && W-i-1>=0} : S8[i]; {i,j|W-i-1>=0 && i>=0 && j>=0 && H-j-2>=0} : S13[i, j+1]; esac;
		S13[i, j] = in[i, j];
		S14[i, j] = case {i,j|-H+j+1==0 && i>=0 && H-1>=0 && W-i-1>=0} : S10[i]; {i,j|W-i-1>=0 && i>=0 && j>=0 && H-j-2>=0} : S15[i, j+1]; esac;
		S15[i, j] = S11[i, j];
		S16[i, j] = (1 *(S3[i, j] +S11[i, j]));
		S17[j] = 0;
		S18[j] = S17[j];
		S19[j] = S18[j];
		S20[j, i] = ((((a[5] *S16[i, j]) +(a[6] *case {j,i|i==0 && j>=0 && H-j-1>=0 && W-1>=0} : S19[j]; {j,i|W-i-1>=0 && j>=0 && H-j-1>=0 && i-1>=0} : S21[j, i-1]; esac)) +(b[1] *case {j,i|i==0 && j>=0 && H-j-1>=0 && W-1>=0} : S18[j]; {j,i|W-i-1>=0 && j>=0 && H-j-1>=0 && i-1>=0} : S23[j, i-1]; esac)) +(b[2] *case {j,i|i==0 && j>=0 && H-j-1>=0 && W-1>=0} : S17[j]; {j,i|W-i-1>=0 && j>=0 && H-j-1>=0 && i-1>=0} : S22[j, i-1]; esac));
		S21[j, i] = S16[i, j];
		S22[j, i] = case {j,i|i==0 && j>=0 && W-1>=0 && H-j-1>=0} : S18[j]; {j,i|H-j-1>=0 && j>=0 && i-1>=0 && W-i-1>=0} : S23[j, i-1]; esac;
		S23[j, i] = S20[j, i];
		S24[j] = 0;
		S25[j] = S24[j];
		S26[j] = S25[j];
		S27[j] = S26[j];
		S28[j, i] = ((((a[7] *case {j,i|-W+i+1==0 && j>=0 && W-1>=0 && H-j-1>=0} : S27[j]; {j,i|H-j-1>=0 && j>=0 && i>=0 && W-i-2>=0} : S30[j, i+1]; esac) +(a[8] *case {j,i|-W+i+1==0 && j>=0 && H-j-1>=0 && W-1>=0} : S26[j]; {j,i|W-i-2>=0 && j>=0 && H-j-1>=0 && i>=0} : S29[j, i+1]; esac)) +(b[1] *case {j,i|-W+i+1==0 && j>=0 && H-j-1>=0 && W-1>=0} : S27[j]; {j,i|W-i-2>=0 && j>=0 && H-j-1>=0 && i>=0} : S30[j, i+1]; esac)) +(b[2] *case {j,i|-W+i+1==0 && j>=0 && H-j-1>=0 && W-1>=0} : S26[j]; {j,i|W-i-2>=0 && j>=0 && H-j-1>=0 && i>=0} : S29[j, i+1]; esac));
		S29[j, i] = case {j,i|-W+i+1==0 && j>=0 && W-1>=0 && H-j-1>=0} : S27[j]; {j,i|H-j-1>=0 && j>=0 && i>=0 && W-i-2>=0} : S30[j, i+1]; esac;
		S30[j, i] = S16[i, j];
		S31[j, i] = case {j,i|-W+i+1==0 && j>=0 && W-1>=0 && H-j-1>=0} : S25[j]; {j,i|H-j-1>=0 && j>=0 && i>=0 && W-i-2>=0} : S32[j, i+1]; esac;
		S32[j, i] = S28[j, i];
		S33[i, j] = (1 *(S20[j, i] +S28[j, i]));
.